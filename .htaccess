# Activar el motor de reescritura
RewriteEngine On

# Redirigir index.html a la raíz (301 permanente)
RewriteCond %{THE_REQUEST} \s/+index\.html[\s?] [NC]
RewriteRule ^ /? [R=301,L]

# Redirigir guia-landing-page a recursos (301 permanente)
RewriteCond %{THE_REQUEST} \s/+guia-landing-page(\.html)?[\s?] [NC]
RewriteRule ^ /recursos? [R=301,L]

# Evitar bucle infinito: solo procesar si no es un directorio o archivo real
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

# Regla 1: Redirigir URLs con .html a versiones sin extensión (301 permanente)
# Excluir index.html que ya está manejado arriba
RewriteCond %{THE_REQUEST} \s/+([^.\s/]+)\.html[\s?] [NC]
RewriteRule ^ /%1? [R=301,L]

# Regla 2: Agregar .html internamente para archivos que existen
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]
